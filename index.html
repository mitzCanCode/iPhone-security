<!Doctype html>
<html>
    <head>
        <title>
            Securing your iPhone
        </title>
        <link rel="stylesheet" href="css/style.css"
    </head>
    <body>
        <div class="hero">
            <img src="assets/iphone16.png" alt="iPhone 1" class="iphone-bg iphone1">
            <img src="assets/iphone2.png" alt="iPhone 2" class="iphone-bg iphone2">
            <img src="assets/iphone3.png" alt="iPhone 3" class="iphone-bg iphone3">

            <div class="glass-card">
                <div class="welcome-msg">
                    <div class="static-txt">
                        Protect,
                    </div>
                    <div class="dynamic-txt">
                        <span id="typed-text"></span>
                        <span class="cursor">|</span>
                    </div>
                </div>
            </div>

        </div>

        <section class="content">
            <div class="glass-card">

            </div>
        </section>



    <script>
        const phrases = [
            "the place where all your “123456” passwords live...",
            "your “just 5 more minutes” machine...",
            "your photo vault...",
            "your portable office...",
            "your iPhone."
        ];

        const typedText = document.getElementById("typed-text");
        const cursor = document.querySelector(".cursor");

        let phraseIndex = 0;
        let charIndex = 0;
        let typing = true;

        function updateCursorBlinking(isPaused) {
            if (isPaused) {
                cursor.classList.add("blink");
            } else {
                cursor.classList.remove("blink");
            }
        }

        function typeLoop() {
            const currentPhrase = phrases[phraseIndex];

            if (typing) {
                updateCursorBlinking(false); // turn off blink
                typedText.textContent = currentPhrase.substring(0, charIndex++);
                if (charIndex > currentPhrase.length) {
                    typing = false;
                    updateCursorBlinking(true); // start blink on pause
                    setTimeout(typeLoop, 1000); // pause before deleting
                    return;
                }
            } else {
                updateCursorBlinking(false); // turn off blink
                typedText.textContent = currentPhrase.substring(0, charIndex--);
                if (charIndex < 0) {
                    typing = true;
                    phraseIndex = (phraseIndex + 1) % phrases.length;
                    updateCursorBlinking(true); // blink while paused
                    setTimeout(typeLoop, 500); // pause before retyping
                    return;
                }
            }

            const delay = typing ? 60 : 30;
            setTimeout(typeLoop, delay);
        }

        // Start the loop with blinking enabled briefly
        updateCursorBlinking(true);
        setTimeout(typeLoop, 500);
    </script>


    <script>
        document.querySelectorAll('.dynamic-txt li').forEach(li => {
            const length = li.textContent.length;
            li.style.setProperty('--steps-count', length);
            li.style.setProperty('--anim-duration', `${length * 0.2}s`); // adjust timing as needed
        });
    </script>
    </body>
</html>